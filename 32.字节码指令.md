## 字节码指令

Java虚拟机的指令是由一个字节长度的、代表这某种特定操作含义的数字（操作码，Opcode）以及跟随其后的零至多个代表此操作所需参数（操作数，Operands）而构成。

在Java虚拟机的指令集中，大多数的指令都包含了其操作所对应的数据类型信息，它们的操作码助记符中都有特殊的字符来表明专门为那种数据类型服务：i代表对int类型的数据操作，l代表long，s代表short，b代表byte，c代表char，f代表float，d代表double，a代表reference，还有一些没有明确指明操作类型，还有一些与数据类型无关。

Java虚拟机指令集所支持的数据类型：

| opcode    | byte    | short   | int       | long    | float   | double  | char    | reference |
| --------- | ------- | ------- | --------- | ------- | ------- | ------- | ------- | --------- |
| Tipush    | bipush  | sipush  |           |         |         |         |         |           |
| Tconst    |         |         | iconst    | lconst  | fconst  | dconst  |         | aconst    |
| Tload     |         |         | iload     | lload   | fload   | dload   |         | aload     |
| Tstore    |         |         | istore    | lstore  | fstore  | dstore  |         | astore    |
| Tinc      |         |         | iinc      |         |         |         |         |           |
| Taload    | baload  | saload  | iaload    | laload  | faload  | daload  | caload  | aaload    |
| Tastore   | bastore | sastore | iastore   | lastore | fastore | dastore | castore | aastore   |
| Tadd      |         |         | iadd      | ladd    | fadd    | dadd    |         |           |
| Tsub      |         |         | isub      | lsub    | fsub    | dsub    |         |           |
| Tmul      |         |         | imul      | lmul    | fmul    | dmul    |         |           |
| Tdiv      |         |         | idiv      | ldiv    | fdiv    | ddiv    |         |           |
| Trem      |         |         | irem      | lrem    | frem    | drem    |         |           |
| Tneg      |         |         | ineg      | lneg    | fneg    | dneg    |         |           |
| Tshl      |         |         | ishl      | lshl    |         |         |         |           |
| Tshr      |         |         | ishr      | lshr    |         |         |         |           |
| Tushr     |         |         | iushr     | lushr   |         |         |         |           |
| Tand      |         |         | iand      | land    |         |         |         |           |
| Tor       |         |         | ior       | lor     |         |         |         |           |
| Txor      |         |         | ixor      | lxor    |         |         |         |           |
| i2T       | i2b     | i2s     |           | i2l     | i2f     | i2d     |         |           |
| l2T       |         |         | l2i       |         | l2f     | l2d     |         |           |
| f2T       |         |         | f2i       | f2l     |         | f2d     |         |           |
| d2T       |         |         | d2i       | d2l     | d2f     |         |         |           |
| Tcmp      |         |         |           | lcmp    |         |         |         |           |
| Tcmpl     |         |         |           |         | fcmpl   | dcmpl   |         |           |
| Tcmpg     |         |         |           |         | fcmpg   | dcmpg   |         |           |
| if_TcmpOP |         |         | if_icmpOP |         |         |         |         | if_acmpOP |
| Treturn   |         |         | ireturn   | lreturn | freturn | dreturn |         | aretrun   |

+ 加载和存储指令

  加载和存储指令用于将数据在栈帧中的局部变量表和操作数栈之间来回传输，这类指令包括如下：

  + 将一个局部变量加载到操作栈：iload、iload\_\<n\>、lload、lload\_\<n\>、fload、fload\_\<n\>、dload、dload\_\<n\>、aload、aload\_\<n\>
  + 将一个数值从操作数栈存储到局部变量表：istore、istore\_\<n\>、lstore、lstore\_\<n\>、fstore、fstore\_\<n\>、dstore、dstore\_\<n\>、astore、astore\_\<n\>
  + 将一个常量加载到操作数栈：bipush、sipush、ldc、ldc_w、ldc2_w、aconst_null、iconst_ml、iconst\_\<i\>、lconst\_\<l\>、fconst\_\<f\>、dconst\_\<d\>
  + 扩充局部变量表的访问索引的指令：wide

+ 运算指令

  运算或算数指令用于对两个操作数栈上的值进行某种特定运算，并把结果重新存入到操作栈顶。大体上可以分为两种：对整型进行运算的指令与浮点型数据进行运算的指令。由于没有直接支持byte、short、char和boolean类型的算数指令，对这些类型数据的运算，使用int类型的指令代替。

  + 加法指令：iadd、ladd、fadd、dadd
  + 减法指令：isub、lsub、fsub、dsub
  + 乘法指令：imul、lmul、fmul、dmul
  + 除法指令：idiv、ldiv、fdiv、ddiv
  + 求余指令：irem、lrem、frem、drem
  + 取反指令：ineg、lneg、fneg、dneg
  + 位移指令：ishl、ishr、iushr、lshl、lshr、lushr
  + 按位或指令：ior、lor
  + 按位与指令：iand、land
  + 按位异或指令：ixor、lxor
  + 局部变量自增指令：iinc
  + 比较指令：dcmpg、dcmpl、fcmpg、fcmpl、lcmp